<header>
    <!-- <nav>
    <a routerLink="/">Search</a>
    <a routerLink="/bookings">My Bookings</a>
    <button (click)="logout()">Logout</button>
  </nav>  -->
<nav
  class="bg-gray-800 fixed top-0 left-0 w-full h-16 z-50 shadow"
>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

    <div class="flex h-16 items-center justify-between">

      <!-- LOGO -->
      <div class="flex items-center gap-3">
        <img
          src="assets/image/logo.jpg"
          alt="Bus Booking Logo"
          class="h-12 w-24 rounded-md"
        />
        <span class="text-xl font-semibold text-white">
          BusBooking
        </span>
      </div>

      <!-- DESKTOP MENU -->
      <div class="hidden md:flex items-center gap-6">

        <!-- COMMON LINKS -->
        <a
          routerLink="/"
          routerLinkActive="text-blue-400"
          class="text-white font-medium hover:text-blue-400 transition"
        >
          Book Now
        </a>

        <a 
          routerLink="/bookings"
          routerLinkActive="text-blue-400"
          class="text-white font-medium hover:text-blue-400 transition"
        >
          My Bookings
        </a>

        <!-- ADMIN ONLY -->
        <a
          *ngIf="isAdmin"
          routerLink="/admin"
          routerLinkActive="text-yellow-400"
          class="text-yellow-300 font-semibold hover:text-yellow-400 transition"
        >
          Admin Panel
        </a>

        <!-- AUTH -->
        <ng-container *ngIf="!auth.isAuthenticated(); else loggedIn">

          <a
            routerLink="/auth/login"
            class="px-4 py-2 rounded-md
                   bg-blue-600 text-white
                   font-semibold hover:bg-blue-700 transition"
          >
            Login
          </a>

        </ng-container>

        <!-- LOGGED IN -->
        <ng-template #loggedIn>
          <div class="relative group">

            <button class="focus:outline-none">
              <img
                src="assets/image/user.png"
                alt="User"
                class="h-10 w-10 rounded-full bg-gray-100"
              />
            </button>

            <!-- DROPDOWN -->
            <div
              class="absolute right-0 mt-2 w-52
                     bg-white border rounded-md shadow-lg
                     opacity-0 invisible
                     group-hover:opacity-100
                     group-hover:visible
                     transition-all duration-150"
            >

              <div class="px-4 py-3 border-b">
                <p class="text-sm font-semibold text-gray-800">
                  {{ username }}
                </p>
                <p class="text-xs text-gray-500">
                  {{ isAdmin ? 'Administrator' : 'User' }}
                </p>
              </div>

              <a
                routerLink="/profile"
                class="block px-4 py-2 text-gray-700 hover:bg-gray-100"
              >
                Profile
              </a>

              <a
                routerLink="/settings"
                class="block px-4 py-2 text-gray-700 hover:bg-gray-100"
              >
                Settings
              </a>

              <hr />

              <button
                (click)="logout()"
                class="w-full text-left px-4 py-2
                       text-red-600 hover:bg-red-50"
              >
                Sign Out
              </button>

            </div>
          </div>
        </ng-template>

      </div>

      <!-- MOBILE BUTTON -->
      <button
        (click)="mobileOpen = !mobileOpen"
        class="md:hidden text-white focus:outline-none"
      >
        â˜°
      </button>

    </div>

    <!-- MOBILE MENU -->
    <div
      *ngIf="mobileOpen"
      class="md:hidden bg-gray-800 px-4 py-4 space-y-2"
    >

      <a
        routerLink="/"
        (click)="mobileOpen = false"
        class="block text-white hover:text-blue-400"
      >
        Book Now
      </a>

      <a
        routerLink="/bookings"
        (click)="mobileOpen = false"
        class="block text-white hover:text-blue-400"
      >
        My Bookings
      </a>

      <a
        *ngIf="isAdmin"
        routerLink="/admin"
        (click)="mobileOpen = false"
        class="block text-yellow-300 font-semibold hover:text-yellow-400"
      >
        Admin Panel
      </a>

      <hr class="border-gray-700" />

      <ng-container *ngIf="!auth.isAuthenticated(); else mobileLogged">

        <a
          routerLink="/auth/login"
          (click)="mobileOpen = false"
          class="block text-white hover:text-blue-400"
        >
          Login
        </a>

      </ng-container>

      <ng-template #mobileLogged>
        <p class="text-gray-400 text-sm">
          {{ username }}
        </p>

        <a
          routerLink="/profile"
          (click)="mobileOpen = false"
          class="block text-white hover:text-blue-400"
        >
          Profile
        </a>

        <a
          routerLink="/settings"
          (click)="mobileOpen = false"
          class="block text-white hover:text-blue-400"
        >
          Settings
        </a>

        <button
          (click)="logout()"
          class="block w-full text-left
                 text-red-400 hover:text-red-300"
        >
          Sign Out
        </button>
      </ng-template>

    </div>

  </div>
</nav>


</header>

  
